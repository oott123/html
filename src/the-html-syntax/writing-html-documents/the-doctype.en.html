<h4>The DOCTYPE</h4>

  <p>A <dfn data-x="syntax-doctype">DOCTYPE</dfn> is a <!-- mostly useless but nonetheless -->
  required preamble.</p>

  <p class="note">DOCTYPEs are required for legacy reasons. When omitted, browsers tend to use a
  different rendering mode that is incompatible with some specifications. Including the DOCTYPE in a
  document ensures that the browser makes a best-effort attempt at following the relevant
  specifications.</p>

  <p>A DOCTYPE must consist of the following components, in this order:</p>

  <ol class="brief">
   <li>A string that is an <span>ASCII case-insensitive</span> match for the string "<code data-x="">&lt;!DOCTYPE</code>".</li>
   <li>One or more <span data-x="space character">space characters</span>.</li>
   <li>A string that is an <span>ASCII case-insensitive</span> match for the string "<code data-x="">html</code>".</li>
   <li>Optionally, a <span>DOCTYPE legacy string</span>.</li>
   <li>Zero or more <span data-x="space character">space characters</span>.</li>
   <li>A U+003E GREATER-THAN SIGN character (&gt;).</li>
  </ol>

  <p class="note">In other words, <code data-x="">&lt;!DOCTYPE html></code>, case-insensitively.</p>

  <hr>

  <p>For the purposes of HTML generators that cannot output HTML markup with the short DOCTYPE
  "<code data-x="">&lt;!DOCTYPE html></code>", a <dfn>DOCTYPE legacy string</dfn> may be inserted
  into the DOCTYPE (in the position defined above). This string must consist of:</p>

  <ol class="brief">
   <li>One or more <span data-x="space character">space characters</span>.</li>
   <li>A string that is an <span>ASCII case-insensitive</span> match for the string "<code data-x="">SYSTEM</code>".</li>
   <li>One or more <span data-x="space character">space characters</span>.</li>
   <li>A U+0022 QUOTATION MARK or U+0027 APOSTROPHE character (the <i>quote mark</i>).</li>
   <li>The literal string "<code>about:legacy-compat</code>".</li>
   <li>A matching U+0022 QUOTATION MARK or U+0027 APOSTROPHE character (i.e. the same character as in the earlier step labeled <i>quote mark</i>).</li>
  </ol>

  <p class="note">In other words, <code data-x="">&lt;!DOCTYPE html SYSTEM "about:legacy-compat"></code> or
  <code data-x="">&lt;!DOCTYPE html SYSTEM 'about:legacy-compat'></code>, case-insensitively except for the
  part in single or double quotes.</p>

  <p>The <span>DOCTYPE legacy string</span> should not be used unless the document is generated from
  a system that cannot output the shorter string.</p>



  