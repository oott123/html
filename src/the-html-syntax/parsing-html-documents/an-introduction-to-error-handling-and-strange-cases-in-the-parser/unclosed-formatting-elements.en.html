  <h5>Unclosed formatting elements</h5>

  <!-- NON-NORMATIVE SECTION -->

  <p>The following markup shows how nested formatting elements (such as <code>b</code>) get
  collected and continue to be applied even as the elements they are contained in are closed, but
  that excessive duplicates are thrown away.</p>

  <pre>&lt;!DOCTYPE html>
&lt;p>&lt;b class=x>&lt;b class=x>&lt;b>&lt;b class=x>&lt;b class=x>&lt;b>X
&lt;p>X
&lt;p>&lt;b>&lt;b class=x>&lt;b>X
&lt;p>&lt;/b>&lt;/b>&lt;/b>&lt;/b>&lt;/b>&lt;/b>X</pre>

  <p>The resulting DOM tree is as follows:</p>

  <ul class="domTree"><li class="t10">DOCTYPE: <code data-x="">html</code></li><li class="t1"><code>html</code><ul><li class="t1"><code>head</code></li><li class="t1"><code>body</code><ul><li class="t1"><code>p</code><ul><li class="t1"><code>b</code> <span class="t2" data-x=""><code class="attribute name" data-x="attr-class">class</code>="<code class="attribute value" data-x="">x</code>"</span><ul><li class="t1"><code>b</code> <span class="t2" data-x=""><code class="attribute name" data-x="attr-class">class</code>="<code class="attribute value" data-x="">x</code>"</span><ul><li class="t1"><code>b</code><ul><li class="t1"><code>b</code> <span class="t2" data-x=""><code class="attribute name" data-x="attr-class">class</code>="<code class="attribute value" data-x="">x</code>"</span><ul><li class="t1"><code>b</code> <span class="t2" data-x=""><code class="attribute name" data-x="attr-class">class</code>="<code class="attribute value" data-x="">x</code>"</span><ul><li class="t1"><code>b</code><ul><li class="t3"><code>#text</code>: <span data-x="">X&#X23CE;</span></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li><li class="t1"><code>p</code><ul><li class="t1"><code>b</code> <span class="t2" data-x=""><code class="attribute name" data-x="attr-class">class</code>="<code class="attribute value" data-x="">x</code>"</span><ul><li class="t1"><code>b</code><ul><li class="t1"><code>b</code> <span class="t2" data-x=""><code class="attribute name" data-x="attr-class">class</code>="<code class="attribute value" data-x="">x</code>"</span><ul><li class="t1"><code>b</code> <span class="t2" data-x=""><code class="attribute name" data-x="attr-class">class</code>="<code class="attribute value" data-x="">x</code>"</span><ul><li class="t1"><code>b</code><ul><li class="t3"><code>#text</code>: <span data-x="">X&#X23CE;</span></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li><li class="t1"><code>p</code><ul><li class="t1"><code>b</code> <span class="t2" data-x=""><code class="attribute name" data-x="attr-class">class</code>="<code class="attribute value" data-x="">x</code>"</span><ul><li class="t1"><code>b</code><ul><li class="t1"><code>b</code> <span class="t2" data-x=""><code class="attribute name" data-x="attr-class">class</code>="<code class="attribute value" data-x="">x</code>"</span><ul><li class="t1"><code>b</code> <span class="t2" data-x=""><code class="attribute name" data-x="attr-class">class</code>="<code class="attribute value" data-x="">x</code>"</span><ul><li class="t1"><code>b</code><ul><li class="t1"><code>b</code><ul><li class="t1"><code>b</code> <span class="t2" data-x=""><code class="attribute name" data-x="attr-class">class</code>="<code class="attribute value" data-x="">x</code>"</span><ul><li class="t1"><code>b</code><ul><li class="t3"><code>#text</code>: <span data-x="">X&#X23CE;</span></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li><li class="t1"><code>p</code><ul><li class="t3"><code>#text</code>: <span data-x="">X&#X23CE;</span></li></ul></li></ul></li></ul></li></ul>

  <p>Note how the second <code>p</code> element in the markup has no explicit <code>b</code>
  elements, but in the resulting DOM, up to three of each kind of formatting element (in this case
  three <code>b</code> elements with the class attribute, and two unadorned <code>b</code> elements)
  get reconstructed before the element's "X".</p>

  <p>Also note how this means that in the final paragraph only six <code>b</code> end tags are
  needed to completely clear the <span>list of active formatting elements</span>, even though nine
  <code>b</code> start tags have been seen up to this point.</p>


<!--/HTMLPARSER-->


