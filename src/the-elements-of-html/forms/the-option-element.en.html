  <h4>The <dfn><code>option</code></dfn> element</h4>

  <dl class="element">
   <dt><span data-x="concept-element-categories">Categories</span>:</dt>
   <dd>None.</dd>
   <dt><span data-x="concept-element-contexts">Contexts in which this element can be used</span>:</dt>
   <dd>As a child of a <code>select</code> element.</dd>
   <dd>As a child of a <code>datalist</code> element.</dd>
   <dd>As a child of an <code>optgroup</code> element.</dd>
   <dt><span data-x="concept-element-content-model">Content model</span>:</dt>
   <dd>If the element has a <code data-x="attr-option-label">label</code> attribute and a <code data-x="attr-option-value">value</code> attribute: <span data-x="concept-content-nothing">Nothing</span>.</dd>
   <dd>If the element has a <code data-x="attr-option-label">label</code> attribute but no <code data-x="attr-option-value">value</code> attribute: <span data-x="text content">Text</span>.</dd>
   <dd>If the element has no <code data-x="attr-option-label">label</code> attribute and is not a
   child of a <code>datalist</code> element: <span data-x="text content">Text</span> that is not
   <span>inter-element whitespace</span>.</dd>
   <dd>If the element has no <code data-x="attr-option-label">label</code> attribute and is a child
   of a <code>datalist</code> element: <span data-x="text content">Text</span>.</dd>
   <dt><span data-x="concept-element-attributes">Content attributes</span>:</dt>
   <dd><span>Global attributes</span></dd>
   <dd><code data-x="attr-option-disabled">disabled</code></dd>
   <dd><code data-x="attr-option-label">label</code></dd>
   <dd><code data-x="attr-option-selected">selected</code></dd>
   <dd><code data-x="attr-option-value">value</code></dd>
   <dt><span data-x="concept-element-dom">DOM interface</span>:</dt><!--TOPIC:DOM APIs-->
   <dd>
<pre class="idl">[<span>HTMLConstructor</span>, NamedConstructor=<span data-x="dom-option">Option</span>(optional DOMString text = "", optional DOMString value, optional boolean defaultSelected = false, optional boolean selected = false)]
interface <dfn>HTMLOptionElement</dfn> : <span>HTMLElement</span> {
  [<span>CEReactions</span>] attribute boolean <span data-x="dom-option-disabled">disabled</span>;
  readonly attribute <span>HTMLFormElement</span>? <span data-x="dom-option-form">form</span>;
  [<span>CEReactions</span>] attribute DOMString <span data-x="dom-option-label">label</span>;
  [<span>CEReactions</span>] attribute boolean <span data-x="dom-option-defaultSelected">defaultSelected</span>;
  attribute boolean <span data-x="dom-option-selected">selected</span>;
  [<span>CEReactions</span>] attribute DOMString <span data-x="dom-option-value">value</span>;

  [<span>CEReactions</span>] attribute DOMString <span data-x="dom-option-text">text</span>;
  readonly attribute long <span data-x="dom-option-index">index</span>;
};</pre>
   </dd>
  </dl><!--TOPIC:HTML-->

  <p>The <code>option</code> element <span>represents</span> an option in a <code>select</code>
  element or as part of a list of suggestions in a <code>datalist</code> element.</p>

  <p>In certain circumstances described in the definition of the <code>select</code> element, an
  <code>option</code> element can be a <code>select</code> element's <span>placeholder label
  option</span>. A <span>placeholder label option</span> does not represent an actual option, but
  instead represents a label for the <code>select</code> control.</p>

  <p>The <dfn><code data-x="attr-option-disabled">disabled</code></dfn> attribute is a <span>boolean
  attribute</span>. An <code>option</code> element is <dfn
  data-x="concept-option-disabled">disabled</dfn> if its <code
  data-x="attr-option-disabled">disabled</code> attribute is present or if it is a child of an
  <code>optgroup</code> element whose <code data-x="attr-optgroup-disabled">disabled</code> attribute
  is present.</p>

  <div w-nodev>

  <p>An <code>option</code> element that is <span data-x="attr-option-disabled">disabled</span> must
  prevent any <code data-x="event-click">click</code> events that are <span data-x="queue a
  task">queued</span> on the <span>user interaction task source</span> from being dispatched on the
  element.</p>

  </div>

  <p>The <dfn><code data-x="attr-option-label">label</code></dfn> attribute provides a label for
  element. The <dfn data-x="concept-option-label">label</dfn> of an <code>option</code> element is
  the value of the <code data-x="attr-option-label">label</code> content attribute, if there is one and its value is not the empty string,
  or, otherwise, the value of the element's <code data-x="dom-option-text">text</code> IDL
  attribute.</p>

  <p>The <code data-x="attr-option-label">label</code> content attribute, if specified, must not be
  empty.</p>

  <p>The <dfn><code data-x="attr-option-value">value</code></dfn> attribute provides a value for
  element. The <dfn data-x="concept-option-value">value</dfn> of an <code>option</code> element is
  the value of the <code data-x="attr-option-value">value</code> content attribute, if there is one,
  or, if there is not, the value of the element's <code data-x="dom-option-text">text</code> IDL
  attribute.</p>

  <p>The <dfn><code data-x="attr-option-selected">selected</code></dfn> attribute is a <span>boolean
  attribute</span>. It represents the default <span
  data-x="concept-option-selectedness">selectedness</span> of the element.</p>

  <div w-nodev>

  <p>The <dfn data-x="concept-option-dirtiness">dirtiness</dfn> of an <code>option</code> element is
  a boolean state, initially false. It controls whether adding or removing the <code
  data-x="attr-option-selected">selected</code> content attribute has any effect.</p>

  <p>The <dfn data-x="concept-option-selectedness">selectedness</dfn> of an <code>option</code>
  element is a boolean state, initially false. Except where otherwise specified, when the element is
  created, its <span data-x="concept-option-selectedness">selectedness</span> must be set to true if
  the element has a <code data-x="attr-option-selected">selected</code> attribute. Whenever an
  <code>option</code> element's <code data-x="attr-option-selected">selected</code> attribute is
  added, if its <span data-x="concept-option-dirtiness">dirtiness</span> is false, its <span
  data-x="concept-option-selectedness">selectedness</span> must be set to true. Whenever an
  <code>option</code> element's <code data-x="attr-option-selected">selected</code> attribute is
  <em>removed</em>, if its <span data-x="concept-option-dirtiness">dirtiness</span> is false, its
  <span data-x="concept-option-selectedness">selectedness</span> must be set to false.</p>

  <p class="note">The <code data-x="dom-option">Option()</code> constructor, when called with three
  or fewer arguments, overrides the initial state of the <span
  data-x="concept-option-selectedness">selectedness</span> state to always be false even if the third
  argument is true (implying that a <code data-x="attr-option-selected">selected</code> attribute is
  to be set). The fourth argument can be used to explicitly set the initial <span
  data-x="concept-option-selectedness">selectedness</span> state when using the constructor.</p>

  <!-- https://software.hixie.ch/utilities/js/live-dom-viewer/?saved=604 -->

  </div>

  <p>A <code>select</code> element whose <code data-x="attr-select-multiple">multiple</code>
  attribute is not specified must not have more than one descendant <code>option</code> element with
  its <code data-x="attr-option-selected">selected</code> attribute set.</p>

  <div w-nodev>

  <p>An <code>option</code> element's <dfn data-x="concept-option-index">index</dfn> is the number of
  <code>option</code> elements that are in the same <span data-x="concept-select-option-list">list of
  options</span> but that come before it in <span>tree order</span>. If the <code>option</code>
  element is not in a <span data-x="concept-select-option-list">list of options</span>, then the
  <code>option</code> element's <span data-x="concept-option-index">index</span> is zero.</p>

  </div>

<!--TOPIC:DOM APIs-->
  <dl class="domintro">

   <dt><var>option</var> . <code subdfn data-x="dom-option-selected">selected</code></dt>

   <dd>

    <p>Returns true if the element is selected, and false otherwise.</p>

    <p>Can be set, to override the current state of the element.</p>

   </dd>

   <dt><var>option</var> . <code subdfn data-x="dom-option-index">index</code></dt>

   <dd>

    <p>Returns the index of the element in its <code>select</code> element's <code
    data-x="dom-select-options">options</code> list.</p>

   </dd>

   <dt><var>option</var> . <code subdfn data-x="dom-option-form">form</code></dt>

   <dd>

    <p>Returns the element's <code>form</code> element, if any, or null otherwise.</p>

   </dd>

   <dt><var>option</var> . <code subdfn data-x="dom-option-text">text</code></dt>

   <dd>

    <p>Same as <code>textContent</code>, except that spaces are collapsed and <code>script</code> elements are skipped.</p>

   </dd>

   <dt><var>option</var> = new <code data-x="dom-option">Option</code>( [ <var>text</var> [, <var>value</var> [, <var>defaultSelected</var> [, <var>selected</var> ] ] ] ] )</dt>

   <dd>

    <p>Returns a new <code>option</code> element.</p>

    <p>The <var>text</var> argument sets the contents of the element.</p>

    <p>The <var>value</var> argument sets the <code data-x="attr-option-value">value</code>
    attribute.</p>

    <p>The <var>defaultSelected</var> argument sets the <code
    data-x="attr-option-selected">selected</code> attribute.</p>

    <p>The <var>selected</var> argument sets whether or not the element is selected. If it
    is omitted, even if the <var>defaultSelected</var> argument is true, the element is not
    selected.</p>

   </dd>

  </dl>

  <div w-nodev>

  <p>The <dfn><code data-x="dom-option-disabled">disabled</code></dfn> IDL attribute must
  <span>reflect</span> the content attribute of the same name. The <dfn><code data-x="dom-option-defaultSelected">defaultSelected</code></dfn> IDL attribute must
  <span>reflect</span> the <code data-x="attr-option-selected">selected</code> content attribute.</p>

  <p>The <dfn><code data-x="dom-option-label">label</code></dfn> IDL attribute, on getting, if there
  is a <code data-x="attr-option-label">label</code> content attribute, must return that attribute's
  value; otherwise, it must return the element's <span data-x="concept-option-label">label</span>.
  On setting, the element's <code data-x="attr-option-label">label</code> content attribute must be
  set to the new value.</p>

  <p>The <dfn><code data-x="dom-option-value">value</code></dfn> IDL attribute, on getting, must
  return the element's <span data-x="concept-option-value">value</span>. On setting, the element's
  <code data-x="attr-option-value">value</code> content attribute must be set to the new value.</p>

  <p>The <dfn><code data-x="dom-option-selected">selected</code></dfn> IDL attribute, on getting,
  must return true if the element's <span data-x="concept-option-selectedness">selectedness</span>
  is true, and false otherwise. On setting, it must set the element's <span
  data-x="concept-option-selectedness">selectedness</span> to the new value, set its <span
  data-x="concept-option-dirtiness">dirtiness</span> to true, and then cause the element to
  <span>ask for a reset</span>.</p>

  <p>The <dfn><code data-x="dom-option-index">index</code></dfn> IDL attribute must return the
  element's <span data-x="concept-option-index">index</span>.</p>

  <p>The <dfn><code data-x="dom-option-text">text</code></dfn> IDL attribute, on getting, must
  return the result of <span data-x="strip and collapse whitespace">stripping and collapsing
  whitespace</span> from the concatenation of <span data-x="concept-cd-data">data</span> of all the
  <code>Text</code> node descendants of the <code>option</code> element, in <span>tree order</span>,
  excluding any that are descendants of descendants of the <code>option</code> element that are
  themselves <code>script</code> or <span>SVG <code>script</code></span> elements.</p>

  <p>On setting, the <code data-x="dom-option-text">text</code> attribute must act as if the
  <code>textContent</code> IDL attribute on the element had been set to the new value.</p>

  <p>The <dfn><code data-x="dom-option-form">form</code></dfn> IDL attribute's behavior depends on
  whether the <code>option</code> element is in a <code>select</code> element or not. If the
  <code>option</code> has a <code>select</code> element as its parent, or has an
  <code>optgroup</code> element as its parent and that <code>optgroup</code> element has a
  <code>select</code> element as its parent, then the <code data-x="dom-option-form">form</code> IDL
  attribute must return the same value as the <code data-x="dom-fae-form">form</code> IDL attribute
  on that <code>select</code> element. Otherwise, it must return null.</p>

  <p>A constructor is provided for creating <code>HTMLOptionElement</code> objects (in addition to
  the factory methods from DOM such as <code
  data-x="dom-Document-createElement">createElement()</code>):
  <dfn><code data-x="dom-option">Option(<var>text</var>, <var>value</var>,
  <var>defaultSelected</var>, <var>selected</var>)</code></dfn>.  When invoked, the constructor must
  perform the following steps:</p>

  <ol>
   <li><p>Let <var>document</var> be the <span>current global object</span>'s <span
   data-x="concept-document-window">associated <code>Document</code></span>.</p></li>

   <li><p>Let <var>option</var> be the result of <span data-x="create an element">creating an
   element</span> given <var>document</var>, <code>option</code>, and the <span>HTML
   namespace</span>.</p></li>

   <li><p>If <var>text</var> is not the empty string, then append to <var>option</var> a new
   <code>Text</code> node whose data is <var>text</var>.</p></li>

   <li><p>If <var>value</var> is given, then <span data-x="concept-element-attributes-set-value">set
   an attribute value</span> for <var>option</var> using "<code
   data-x="attr-option-value">value</code>" and <var>value</var>.</p></li>

   <li><p>If <var>defaultSelected</var> is true, then <span
   data-x="concept-element-attributes-set-value">set an attribute value</span> for <var>option</var>
   using "<code data-x="attr-option-selected">selected</code>" and the empty string.</p></li>

   <li><p>If <var>selected</var> is true, then set <var>option</var>'s <span
   data-x="concept-option-selectedness">selectedness</span> to true; otherwise set its <span
   data-x="concept-option-selectedness">selectedness</span> to false (even if
   <var>defaultSelected</var> is true).</p></li>

   <li><p>Return <var>option</var>.</p></li>
  </ol>

  </div>
<!--TOPIC:HTML-->



