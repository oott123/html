<h6>Autofocusing a form control: the <code data-x="attr-fe-autofocus">autofocus</code> attribute</h6>

  <!-- v2: Apply this to contentEditable elements -->

  <p>The <dfn><code data-x="attr-fe-autofocus">autofocus</code></dfn> content attribute allows the
  author to indicate that a control is to be focused as soon as the page is loaded or as soon as the
  <code>dialog</code> within which it finds itself is shown, allowing the user to just start typing
  without having to manually focus the main control.</p>

  <p>The <code data-x="attr-fe-autofocus">autofocus</code> attribute is a <span>boolean
  attribute</span>.</p>

  <p>An element's <dfn>nearest ancestor autofocus scoping root element</dfn> is the element itself
  if the element is a <code>dialog</code> element, or else is the element's nearest ancestor
  <code>dialog</code> element, if any, or else is the element's last <span>inclusive ancestor</span>
  element.</p>

  <p>There must not be two elements with the same <span>nearest ancestor autofocus scoping root
  element</span> that both have the <code data-x="attr-fe-autofocus">autofocus</code> attribute
  specified.</p>

  <div w-nodev>

  <p>When an element with the <code data-x="attr-fe-autofocus">autofocus</code> attribute specified
  is <span data-x="node is inserted into a document">inserted into a document</span>, user agents
  should run the following steps:</p>

  <ol>

   <li><p>Let <var>target</var> be the element's <span>node document</span>.</p></li>

   <li><p>If <var>target</var> has no <span data-x="concept-document-bc">browsing context</span>,
   abort these steps.</p></li>

   <li><p>If <var>target</var>'s <span data-x="concept-document-bc">browsing context</span> has no
   <span>top-level browsing context</span> (e.g. it is a <span>nested browsing context</span> with
   no <span>parent browsing context</span>), abort these steps.</p></li>

   <li><p>If <var>target</var>'s <span>active sandboxing flag set</span> has the
   <span>sandboxed automatic features browsing context flag</span>, abort these steps.</p></li>

   <li><p>If <var>target</var>'s <span>origin</span> is not the <span data-x="same
   origin">same</span> as the <span>origin</span> of the <span>node document</span> of the currently
   focused element in <var>target</var>'s <span>top-level browsing context</span>, abort
   these steps.</p></li>

   <li><p>If <var>target</var>'s <span>origin</span> is not the <span data-x="same
   origin">same</span> as the <span>origin</span> of the <span>active document</span> of <var>target</var>'s <span>top-level browsing context</span>, abort these steps.</p></li>

   <li><p>If the user agent has already reached the last step of this list of steps in response to
   an element being <span data-x="node is inserted into a document">inserted</span> into a
   <code>Document</code> whose <span>top-level browsing context</span>'s <span>active
   document</span> is the same as <var>target</var>'s <span>top-level browsing
   context</span>'s <span>active document</span>, abort these steps.</p></li>

   <li><p>If the user has indicated (for example, by starting to type in a form control) that they
   do not wish focus to be changed, then optionally abort these steps.</p></li>

   <li><p><span>Queue a task</span> that runs the <span>focusing steps</span> for the element. User
   agents may also change the scrolling position of the document, or perform some other action that
   brings the element to the user's attention. The <span>task source</span> for this task is the
   <span>user interaction task source</span>.</p></li>

  </ol>

  <p class="note">This handles the automatic focusing during document load. The <code
  data-x="dom-dialog-show">show()</code> and <code data-x="dom-dialog-showModal">showModal()</code>
  methods of <code>dialog</code> elements also processes the <code
  data-x="attr-fe-autofocus">autofocus</code> attribute.</p>

  <p class="note">Focusing the control does not imply that the user agent must focus the browser
  window if it has lost focus.</p>

  <p>The <dfn><code data-x="dom-fe-autofocus">autofocus</code></dfn> IDL attribute must
  <span>reflect</span> the content attribute of the same name.</p>

  </div>

  <div class="example">
   <p>In the following snippet, the text control would be focused when
   the document was loaded.</p>
   <pre>&lt;input maxlength="256" name="q" value="" autofocus&gt;
&lt;input type="submit" value="Search"&gt;</pre>
  </div>


  